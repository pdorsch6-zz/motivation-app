(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,n){e.exports=n(288)},140:function(e,t,n){"use strict";n.r(t),n.d(t,"loadQuotes",function(){return s});var a=n(27),r=n.n(a),o=n(40),c=n(18),u=function(e){return{type:c.d,quotes:e}},i=function(e){return{type:c.c,error:e}},l=function(){return{type:c.b}};function s(){return function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(l()),"/api/quote/all",n={method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}},e.prev=3,e.next=6,fetch("/api/quote/all",n);case 6:return a=e.sent,e.next=9,a.json();case 9:if(o=e.sent,a.ok){e.next=12;break}return e.abrupt("return",t(i(o.message)));case 12:return e.abrupt("return",t(u(o.quotes)));case 15:return e.prev=15,e.t0=e.catch(3),e.abrupt("return",t(i(e.t0)));case 18:case"end":return e.stop()}},e,null,[[3,15]])}));return function(t){return e.apply(this,arguments)}}()}},143:function(e,t,n){"use strict";n.r(t),n.d(t,"loadQuote",function(){return s});var a=n(27),r=n.n(a),o=n(40),c=n(18),u=function(e){return{type:c.f,quote:e}},i=function(e){return{type:c.e,error:e}},l=function(){return{type:c.a}};function s(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){var a,o,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(l()),a="/api/quote/".concat(e),o={method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}},t.prev=3,t.next=6,fetch(a,o).json();case 6:if((c=t.sent).ok){t.next=9;break}return t.abrupt("return",n(i(c.message)));case 9:return t.abrupt("return",n(u(c.quote)));case 12:return t.prev=12,t.t0=t.catch(3),t.abrupt("return",n(i(t.t0)));case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(e){return t.apply(this,arguments)}}()}},18:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"f",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return i});var a="LOAD_QUOTE",r="LOAD_QUOTE_SUCCESS",o="LOAD_QUOTE_ERROR",c="LOAD_QUOTES",u="LOAD_QUOTES_SUCCESS",i="LOAD_QUOTES_ERROR"},26:function(e,t,n){e.exports.quotes=n(140),e.exports.quote=n(143)},288:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),u=n(290),i=n(289);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(24),s=n(16),d=n(17),b=n(18),p={selectedQuote:null,quotes:null,loading:!0,error:null};var h=Object(s.c)({quote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.a:return Object(d.a)({},e,{loading:!0});case b.f:return Object(d.a)({},e,{loading:!1,selectedQuote:t.quote,error:null});case b.e:return Object(d.a)({},e,{loading:!1,error:t.error});default:return e}},quotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.b:return Object(d.a)({},e,{loading:!0});case b.d:return Object(d.a)({},e,{loading:!1,data:t.quotes,error:null});case b.c:return Object(d.a)({},e,{loading:!1,error:t.error});default:return e}}}),m=n(112),f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,g=Object(s.e)(h,f(Object(s.a)(m.a))),O=n(28),j=n(29),k=n(32),y=n(30),v=n(31),E=n(291),C=n(26),q=n(27),S=n.n(q),w=n(40),x=n(61),Q=n(21),T=n(23),_=n(122),N=n.n(_),A=n(123),F=n.n(A),D=n(121),L=n.n(D),R=n(47),U=n.n(R),W=n(65),J=n.n(W),M=n(124),z=n.n(M),P=n(130),V=n(5),X=n.n(V),I=n(113),B=n.n(I),G=n(115),H=n.n(G),$=n(116),K=n.n($),Y=n(120),Z=n.n(Y),ee=n(117),te=n.n(ee),ne=n(118),ae=n.n(ne),re=n(119),oe=n.n(re),ce=n(77),ue=n.n(ce),ie=n(114),le=n.n(ie),se={success:B.a,warning:le.a,error:H.a,info:K.a};var de=Object(T.withStyles)(function(e){return{success:{backgroundColor:te.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:ae.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,n=e.className,a=e.message,o=e.onClose,c=e.variant,u=Object(P.a)(e,["classes","className","message","onClose","variant"]),i=se[c];return r.a.createElement(ue.a,Object.assign({className:X()(t[c],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(i,{className:X()(t.icon,t.iconVariant)}),a),action:[r.a.createElement(oe.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(Z.a,{className:t.icon}))]},u))}),be=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(y.a)(t).call(this,e))).handleClickOpen=function(){n.setState({open:!0})},n.handleClickClose=function(){n.setState({open:!1})},n.closeSnackbar=function(){n.setState({snackbarOpen:!1})},n.openSnackbar=function(e,t){n.setState({snackbarOpen:!0,snackbarStyle:e,snackbarMessage:t})},n.updateQuotes=function(){(0,n.props.quotesActions.loadQuotes)()},n.state={quote:"",author:"",category:"",open:!1,snackbarOpen:!1,snackbarStyle:"success",snackbarMessage:""},n.addQuote=n.addQuote.bind(Object(Q.a)(Object(Q.a)(n))),n.onFieldChange=n.onFieldChange.bind(Object(Q.a)(Object(Q.a)(n))),n.closeSnackbar=n.closeSnackbar.bind(Object(Q.a)(Object(Q.a)(n))),n.openSnackbar=n.openSnackbar.bind(Object(Q.a)(Object(Q.a)(n))),n.handleClickClose=n.handleClickClose.bind(Object(Q.a)(Object(Q.a)(n))),n}return Object(v.a)(t,e),Object(j.a)(t,[{key:"onFieldChange",value:function(e,t){this.setState(Object(x.a)({},e,t))}},{key:"addQuote",value:function(){var e=Object(w.a)(S.a.mark(function e(){var t,n,a,r,o,c,u,i;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.quote,a=t.author,r=t.category,this.handleClickClose(),e.prev=2,e.next=5,fetch("".concat("http://localhost:3001","/api/author"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})});case 5:return o=e.sent,e.next=8,fetch("".concat("http://localhost:3001","/api/category"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:r})});case 8:return c=e.sent,e.next=11,c.json();case 11:return u=e.sent,e.next=14,o.json();case 14:if(i=e.sent,200!==o.status&&400!==o.status||200!==c.status&&400!==c.status){e.next=20;break}return e.next=18,fetch("".concat("http://localhost:3001","/api/quote"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:u.category._id,author:i.author._id,quote:n})});case 18:200===e.sent.status&&(this.updateQuotes(),this.openSnackbar("success","Quote added!"));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),this.openSnackbar("error","Error: "+e.t0);case 25:case"end":return e.stop()}},e,this,[[2,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.snackbarMessage,o=n.snackbarStyle,c=n.snackbarOpen;return r.a.createElement("div",null,r.a.createElement(U.a,{variant:"contained",color:"primary",onClick:this.handleClickOpen},"Add Quote"),r.a.createElement(L.a,{open:this.state.open,onClose:this.handleClickClose,"aria-labelledby":"simple-dialog-title"},r.a.createElement(N.a,{id:"dialog-title"},"Add Quote"),r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"on"},r.a.createElement(J.a,{label:"Category",onChange:function(t){return e.onFieldChange("category",t.target.value)},className:t.textField,margin:"normal",fullWidth:!0,variant:"outlined"}),r.a.createElement(J.a,{required:!0,label:"Quote",multiline:!0,onChange:function(t){return e.onFieldChange("quote",t.target.value)},className:t.textField,margin:"normal",variant:"outlined",fullWidth:!0}),r.a.createElement(J.a,{label:"Author",onChange:function(t){return e.onFieldChange("author",t.target.value)},className:t.textField,margin:"normal",variant:"outlined",fullWidth:!0})),r.a.createElement(F.a,null,r.a.createElement(U.a,{onClick:this.handleClickClose,color:"secondary",variant:"contained"},"Cancel"),r.a.createElement(U.a,{onClick:this.addQuote,color:"primary",variant:"contained"},"Submit"))),r.a.createElement(z.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:c,autoHideDuration:6e3,onClose:this.closeSnackbar},r.a.createElement(de,{onClose:this.closeSnackbar,variant:o,message:a})))}}]),t}(a.Component),pe=Object(E.a)(Object(l.b)(function(e){return{quotes:e.quotes.data,loading:e.quotes.loading,error:e.quotes.error}},function(e){return{quotesActions:Object(s.b)(Object(d.a)({},C.quotes),e),quoteActions:Object(s.b)(Object(d.a)({},C.quote),e)}})(Object(T.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(be))),he=n(62),me=n.n(he),fe=n(63),ge=n.n(fe),Oe=Object(T.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(me.a),je=function(e){function t(){return Object(O.a)(this,t),Object(k.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.quote;return r.a.createElement(ge.a,{key:e._id},r.a.createElement(Oe,{component:"th",scope:"row"},e.quote),r.a.createElement(Oe,{align:"right"},e.author?e.author.name:"---"),r.a.createElement(Oe,{align:"right"},e.category?e.category.category:"---"))}}]),t}(a.Component),ke=Object(E.a)(Object(l.b)(function(e){return{quotes:e.quotes.data,loading:e.quotes.loading,error:e.quotes.error}},function(e){return Object(s.b)(Object(d.a)({},C.quotes),e)})(Object(T.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(je))),ye=n(127),ve=n.n(ye),Ee=n(129),Ce=n.n(Ee),qe=n(128),Se=n.n(qe),we=n(46),xe=n.n(we),Qe=Object(T.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(me.a),Te=function(e){function t(){return Object(O.a)(this,t),Object(k.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.quotes;return r.a.createElement(xe.a,null,r.a.createElement(ve.a,null,r.a.createElement(Se.a,null,r.a.createElement(ge.a,null,r.a.createElement(Qe,null,"Quote"),r.a.createElement(Qe,{align:"right"},"Author"),r.a.createElement(Qe,{align:"right"},"Category"))),r.a.createElement(Ce.a,null,e.map(function(e,t){return r.a.createElement(ke,{quote:e,key:t})}))))}}]),t}(a.Component),_e=Object(E.a)(Object(l.b)(function(e){return{quotes:e.quotes.data,loading:e.quotes.loading,error:e.quotes.error}},function(e){return Object(s.b)(Object(d.a)({},C.quotes),e)})(Object(T.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(Te))),Ne=function(e){function t(e){return Object(O.a)(this,t),Object(k.a)(this,Object(y.a)(t).call(this,e))}return Object(v.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.quotes,n=e.loadQuotes;t||n()}},{key:"render",value:function(){var e=this.props,t=e.quotes,n=(e.loading,e.error);return n?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null," ",n," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(pe,null)),r.a.createElement("br",null),r.a.createElement("div",null,t?r.a.createElement(_e,null):r.a.createElement("p",null,"Loading...")),r.a.createElement("br",null))}}]),t}(a.Component),Ae=Object(E.a)(Object(l.b)(function(e){return{quotes:e.quotes.data,loading:e.quotes.loading,error:e.quotes.error}},function(e){return Object(s.b)(Object(d.a)({},C.quotes),e)})(Ne));c.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(u.a,null,r.a.createElement(i.a,{path:"/",exact:!0,component:Ae}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[131,1,2]]]);
//# sourceMappingURL=main.5f2229ea.chunk.js.map